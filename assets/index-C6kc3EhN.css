:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}.modifier-panel,.toggle-panel,.attack-counter,.effects-panel,.roll-section,.results-section{background:var(--bg-secondary);border:1px solid var(--accent-primary);border-radius:var(--radius-md);padding:var(--spacing-md);box-shadow:var(--shadow-md)}.effects-panel-header{margin-bottom:var(--spacing-lg);text-align:center}.effects-panel-header h3{color:var(--accent-primary);font-size:1.2rem;font-weight:600;margin-bottom:var(--spacing-xs)}.effects-panel-subtitle{color:var(--text-secondary);font-size:.9rem}.effects-grid{display:flex;flex-direction:column;gap:var(--spacing-md)}.effect-row{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--bg-tertiary);border-radius:var(--radius-md);border:2px solid transparent;transition:var(--transition-normal)}.effect-row--blue{border-color:var(--accent-blue)}.effect-row--purple{border-color:var(--accent-purple)}.effect-row--red{border-color:var(--accent-red)}.effect-row--green{border-color:var(--accent-green)}.effect-info{flex:1;display:flex;flex-direction:column;gap:var(--spacing-xs)}.effect-header{display:flex;align-items:center;gap:var(--spacing-sm)}.effect-name{font-weight:600;font-size:1rem;color:var(--text-primary)}.effect-description{font-size:.85rem;color:var(--text-secondary);font-style:italic}.effect-toggles{display:flex;gap:var(--spacing-xs);flex-wrap:wrap}.effect-toggle{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);border:2px solid var(--accent-primary);border-radius:var(--radius-sm);color:var(--text-secondary);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-fast)}.effect-toggle:hover{background:var(--accent-primary);color:#fff;transform:scale(1.05)}.effect-toggle--active{background:var(--accent-secondary);border-color:var(--accent-secondary);color:#fff}.all-toggle-button{padding:var(--spacing-xs) var(--spacing-sm);background:var(--bg-primary);border:2px solid var(--accent-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-size:.8rem;font-weight:600;cursor:pointer;transition:var(--transition-fast);text-transform:uppercase}.all-toggle-button:hover{background:var(--accent-primary);color:#fff}.all-toggle-button--all{background:var(--accent-green);border-color:var(--accent-green);color:#fff}.all-toggle-button--some{background:var(--accent-orange);border-color:var(--accent-orange);color:#fff}.all-toggle-button--none{background:var(--bg-primary);border-color:var(--text-secondary);color:var(--text-secondary)}.roll-section{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-lg);padding:var(--spacing-lg);border:2px solid var(--accent-primary);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);text-align:center;min-width:280px}.roll-button-container{display:flex;justify-content:center}.roll-button{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-lg) var(--spacing-xl);background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));border:none;border-radius:var(--radius-lg);color:#fff;font-size:1.1rem;font-weight:700;text-transform:uppercase;letter-spacing:.1em;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-md);min-width:160px}.roll-button:hover:not(:disabled){transform:translateY(-2px) scale(1.05);box-shadow:var(--shadow-lg);background:linear-gradient(135deg,var(--accent-secondary),var(--accent-red))}.roll-button:active{transform:translateY(0) scale(1.02)}.roll-button:disabled{opacity:.5;cursor:not-allowed;transform:none}.roll-info{color:var(--text-secondary);font-size:.9rem;line-height:1.5}.crit-info{color:var(--accent-orange);font-weight:600;margin-top:var(--spacing-xs)}.quick-summary{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-md);margin-bottom:var(--spacing-lg)}.summary-card{background:var(--bg-tertiary);border:2px solid var(--accent-primary);border-radius:var(--radius-md);padding:var(--spacing-md);text-align:center;transition:var(--transition-normal)}.summary-card.selection-card{border-color:var(--accent-orange);background:#f39c121a}.summary-title{font-size:.9rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--spacing-xs)}.summary-value{font-size:2.5rem;font-weight:700;color:var(--accent-primary);text-shadow:0 2px 4px rgba(0,0,0,.6);margin-bottom:var(--spacing-xs)}.selection-card .summary-value{color:var(--accent-orange)}.summary-breakdown{display:flex;justify-content:center;gap:var(--spacing-sm);font-size:.9rem;font-weight:600}.results-subtitle{color:var(--text-secondary);font-size:.9rem;font-style:italic;margin:0}.attack-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--spacing-md)}.attack-card{background:var(--bg-tertiary);border:2px solid var(--bg-primary);border-radius:var(--radius-md);padding:var(--spacing-md);cursor:pointer;transition:var(--transition-normal);display:flex;flex-direction:column;gap:var(--spacing-sm)}.attack-card:hover{border-color:var(--accent-primary);transform:translateY(-2px);box-shadow:var(--shadow-md)}.attack-card--selected{border-color:var(--accent-orange);background:#f39c121a}.attack-card--crit{border-color:var(--accent-red);background:#e74c3c1a;box-shadow:0 0 0 1px var(--accent-red)}.attack-card--crit:hover{border-color:var(--accent-red)}.attack-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm)}.attack-number{font-weight:700;font-size:1rem;color:var(--text-primary);background:var(--accent-primary);color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);min-width:32px;text-align:center}.to-hit-display{font-weight:700;font-size:1.1rem;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);background:var(--bg-primary)}.to-hit-display.critical-hit{color:var(--accent-red);background:#e74c3c33;animation:pulse 1.5s ease-in-out infinite}.to-hit-display.normal-hit{color:var(--text-primary)}.selection-indicator{color:var(--text-secondary);transition:var(--transition-fast)}.attack-card--selected .selection-indicator{color:var(--accent-orange)}.damage-display{text-align:center;margin:var(--spacing-sm) 0}.total-damage-large{font-size:2.2rem;font-weight:700;color:var(--accent-primary);text-shadow:0 2px 4px rgba(0,0,0,.6);margin-bottom:var(--spacing-xs)}.damage-type-breakdown{display:flex;justify-content:center;gap:var(--spacing-md)}.damage-type{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs)}.damage-amount{font-size:1.1rem;font-weight:600;color:var(--accent-blue)}.damage-type.necrotic .damage-amount{color:var(--accent-purple)}.damage-label{font-size:.8rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.effect-indicators{display:flex;justify-content:center;gap:var(--spacing-xs);flex-wrap:wrap;margin:var(--spacing-sm) 0}.effect-indicator{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.effect-indicator--blue{background:#3498db33;color:var(--accent-blue);border:1px solid var(--accent-blue)}.effect-indicator--purple{background:#9b59b633;color:var(--accent-purple);border:1px solid var(--accent-purple)}.effect-indicator--red{background:#e74c3c33;color:var(--accent-red);border:1px solid var(--accent-red)}.effect-indicator--green{background:#27ae6033;color:var(--accent-green);border:1px solid var(--accent-green)}.effect-indicator--orange{background:#f39c1233;color:var(--accent-orange);border:1px solid var(--accent-orange)}.roll-summary{display:flex;justify-content:space-between;align-items:center;font-size:.8rem;color:var(--text-secondary);font-style:italic;border-top:1px solid var(--bg-primary);padding-top:var(--spacing-sm);margin-top:var(--spacing-sm)}.advantage-indicator{background:var(--accent-green);color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.1em}.dice-rolls-section{margin-top:var(--spacing-sm);padding:var(--spacing-sm);background:var(--bg-primary);border-radius:var(--radius-sm);border:1px solid rgba(255,99,71,.2)}.dice-rolls-header{font-size:.9rem;font-weight:600;color:var(--accent-primary);margin-bottom:var(--spacing-sm);text-transform:uppercase;letter-spacing:.05em}.dice-rolls-grid,.dice-roll-group{display:flex;flex-direction:column;gap:var(--spacing-xs)}.dice-roll-group.necrotic{color:var(--accent-purple)}.dice-roll-label{font-size:.8rem;font-weight:500;color:var(--text-secondary)}.dice-roll-values{display:flex;align-items:center;gap:var(--spacing-xs);flex-wrap:wrap}.dice-roll{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:24px;background:var(--accent-blue);color:#fff;border-radius:var(--radius-sm);font-size:.8rem;font-weight:600;box-shadow:var(--shadow-sm)}.dice-roll-group.necrotic .dice-roll{background:var(--accent-purple)}.dice-roll.pair-start{border-top-right-radius:0;border-bottom-right-radius:0;margin-right:-1px}.dice-roll.pair-end{border-top-left-radius:0;border-bottom-left-radius:0}.crit-bonus{font-size:.75rem;font-weight:600;color:var(--accent-red);background:#e74c3c1a;padding:var(--spacing-xs);border-radius:var(--radius-sm);border:1px solid var(--accent-red)}.roll-total{font-size:.8rem;font-weight:600;color:var(--text-primary);margin-left:var(--spacing-sm)}.modifiers-section{margin-top:var(--spacing-sm);padding-top:var(--spacing-sm);border-top:1px solid rgba(255,99,71,.2)}.modifiers-label{font-size:.8rem;font-weight:500;color:var(--text-secondary);margin-bottom:var(--spacing-xs)}.modifiers-list{display:flex;gap:var(--spacing-sm);flex-wrap:wrap}.modifier{font-size:.75rem;font-weight:500;color:var(--accent-orange);background:#f39c121a;padding:var(--spacing-xs);border-radius:var(--radius-sm);border:1px solid var(--accent-orange)}.tohit-details{margin-top:var(--spacing-sm);padding-top:var(--spacing-sm);border-top:1px solid rgba(255,99,71,.2);display:flex;gap:var(--spacing-sm);align-items:center}.tohit-label{font-size:.8rem;font-weight:500;color:var(--text-secondary)}.tohit-values{font-size:.8rem;font-weight:500;color:var(--accent-green);font-family:monospace}@media (min-width: 1024px){.attack-grid{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}}@media (min-width: 768px) and (max-width: 1023px){.attack-grid{grid-template-columns:repeat(2,1fr)}.quick-summary{gap:var(--spacing-lg)}}@media (min-width: 600px) and (max-width: 767px){.quick-summary{grid-template-columns:1fr;gap:var(--spacing-md)}.attack-grid{grid-template-columns:repeat(2,1fr);gap:var(--spacing-sm)}.attack-card{padding:var(--spacing-sm)}.summary-value{font-size:2.2rem}.total-damage-large{font-size:1.8rem}}@media (min-width: 480px) and (max-width: 599px){.quick-summary,.attack-grid{grid-template-columns:1fr;gap:var(--spacing-sm)}.attack-card{padding:var(--spacing-sm)}.summary-value{font-size:2rem}.total-damage-large{font-size:1.6rem}.damage-type-breakdown,.attack-card-header{gap:var(--spacing-sm)}.to-hit-display{font-size:1rem;padding:var(--spacing-xs)}}@media (max-width: 479px){.quick-summary{grid-template-columns:1fr;gap:var(--spacing-sm);margin-bottom:var(--spacing-md)}.summary-card{padding:var(--spacing-sm)}.summary-value{font-size:1.8rem}.summary-breakdown{flex-direction:column;gap:var(--spacing-xs);font-size:.8rem}.attack-grid{grid-template-columns:1fr;gap:var(--spacing-sm)}.attack-card{padding:var(--spacing-sm);gap:var(--spacing-xs)}.attack-card-header{margin-bottom:var(--spacing-xs)}.attack-number{font-size:.9rem;min-width:28px;padding:var(--spacing-xs)}.to-hit-display{font-size:.9rem;padding:var(--spacing-xs)}.total-damage-large{font-size:1.5rem}.damage-type-breakdown{flex-direction:column;gap:var(--spacing-xs)}.damage-amount{font-size:1rem}.damage-label{font-size:.75rem}.effect-indicators{gap:var(--spacing-xs);margin:var(--spacing-xs) 0}.effect-indicator{font-size:.65rem;padding:calc(var(--spacing-xs) / 2) var(--spacing-xs)}.roll-summary{font-size:.75rem;padding-top:var(--spacing-xs);margin-top:var(--spacing-xs);flex-direction:column;gap:var(--spacing-xs);align-items:center}.advantage-indicator{font-size:.65rem;padding:calc(var(--spacing-xs) / 2) var(--spacing-xs)}.results-header h3{font-size:1.1rem}.results-subtitle{font-size:.8rem}}@media (max-width: 359px){.summary-value{font-size:1.5rem}.total-damage-large{font-size:1.3rem}.attack-card{padding:var(--spacing-xs)}.attack-number{font-size:.8rem;min-width:24px}.to-hit-display{font-size:.8rem}.damage-amount{font-size:.9rem}}@media (max-height: 500px) and (orientation: landscape){.quick-summary{grid-template-columns:1fr 1fr;margin-bottom:var(--spacing-sm)}.summary-card{padding:var(--spacing-sm)}.summary-value{font-size:1.5rem}.attack-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--spacing-xs)}.attack-card{padding:var(--spacing-xs);gap:var(--spacing-xs)}.total-damage-large{font-size:1.2rem}.damage-type-breakdown{gap:var(--spacing-xs)}.results-header{margin-bottom:var(--spacing-sm)}.dice-rolls-section{padding:var(--spacing-xs)}.dice-roll-values{gap:calc(var(--spacing-xs) / 2)}.dice-roll{min-width:20px;height:20px;font-size:.7rem}.modifiers-list{gap:var(--spacing-xs)}.tohit-details{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs)}}:root{--bg-primary: #2c2c2c;--bg-secondary: #3a3a3a;--bg-tertiary: #4a4a4a;--text-primary: #f5f5f5;--text-secondary: #cccccc;--accent-primary: #ff6347;--accent-secondary: #ff4500;--accent-blue: #3498db;--accent-green: #27ae60;--accent-purple: #9b59b6;--accent-red: #e74c3c;--accent-orange: #f39c12;--spacing-xs: .25rem;--spacing-sm: .5rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .3);--shadow-md: 0 4px 8px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 16px rgba(0, 0, 0, .5);--transition-fast: .15s ease;--transition-normal: .3s ease}*{box-sizing:border-box;margin:0;padding:0}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.6;min-height:100vh}.app{min-height:100vh;display:flex;flex-direction:column;width:100vw;max-width:none;margin:0;padding:var(--spacing-md);gap:var(--spacing-md)}.header{margin-bottom:var(--spacing-xl)}.header-content{display:flex;align-items:center;justify-content:center;gap:var(--spacing-md);text-align:center}.header-icon{color:var(--accent-primary)}.header-title{display:flex;flex-direction:column;gap:var(--spacing-xs)}.title-main{font-size:2.5rem;font-weight:700;color:var(--accent-primary);text-shadow:0 2px 4px rgba(0,0,0,.6);text-transform:uppercase;letter-spacing:.1em}.title-subtitle{font-size:1rem;color:var(--text-secondary);font-weight:400}.header-icons{display:flex;gap:var(--spacing-sm);color:var(--accent-secondary)}.main-content{display:grid;grid-template-columns:1fr 300px;grid-template-areas:"controls action" "results results";gap:var(--spacing-lg);flex:1;align-items:start}.controls-section{grid-area:controls;display:flex;flex-direction:column;gap:var(--spacing-md)}.action-section{grid-area:action;display:flex;align-items:start;justify-content:center}.results-section{grid-area:results}.panel{background:var(--bg-secondary);border:1px solid var(--accent-primary);border-radius:var(--radius-md);padding:var(--spacing-md);box-shadow:var(--shadow-md)}.panel-header{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-md);color:var(--accent-primary)}.panel-header h3{font-size:1.1rem;font-weight:600;margin:0}.modifier-panel{@extend .panel;}.modifier-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-md)}.modifier-group{display:flex;flex-direction:column;gap:var(--spacing-xs)}.modifier-label{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;font-weight:500;color:var(--text-secondary)}.modifier-input,.modifier-select{padding:var(--spacing-sm) var(--spacing-md);background:var(--bg-tertiary);border:2px solid var(--accent-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-size:1rem;transition:var(--transition-normal)}.modifier-input:focus,.modifier-select:focus{outline:none;border-color:var(--accent-secondary);box-shadow:0 0 0 2px #ff634733}.modifier-info{margin-top:var(--spacing-md);padding:var(--spacing-sm);background:var(--bg-tertiary);border-radius:var(--radius-sm);font-size:.9rem;color:var(--text-secondary)}.toggle-panel{@extend .panel;}.toggle-section{margin-bottom:var(--spacing-md)}.toggle-section:last-child{margin-bottom:0}.toggle-section-title{font-size:1rem;font-weight:600;color:var(--accent-primary);margin-bottom:var(--spacing-sm)}.toggle-group{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.toggle-button{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:var(--bg-tertiary);border:2px solid var(--accent-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-size:.9rem;font-weight:500;cursor:pointer;transition:var(--transition-fast);text-transform:capitalize}.toggle-button:hover{background:var(--accent-primary);color:#fff;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.toggle-button--active{background:var(--accent-secondary);border-color:var(--accent-secondary);color:#fff}.toggle-button--warning{border-color:var(--accent-orange)}.toggle-button--warning:hover,.toggle-button--warning.toggle-button--active{background:var(--accent-orange);border-color:var(--accent-orange)}.toggle-button--danger{border-color:var(--accent-red)}.toggle-button--danger:hover,.toggle-button--danger.toggle-button--active{background:var(--accent-red);border-color:var(--accent-red)}.gun-stack-group{display:flex;flex-direction:column;gap:var(--spacing-xs)}.gun-stack-label{font-size:.9rem;font-weight:500;color:var(--text-secondary)}.gun-stack-buttons{display:flex;gap:var(--spacing-xs)}.gun-stack-button{padding:var(--spacing-sm);min-width:40px;background:var(--bg-tertiary);border:2px solid var(--accent-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-weight:600;cursor:pointer;transition:var(--transition-fast)}.gun-stack-button:hover{background:var(--accent-primary);color:#fff}.gun-stack-button--active{background:var(--accent-secondary);border-color:var(--accent-secondary);color:#fff}.hp-input-group{display:flex;flex-direction:column;gap:var(--spacing-xs)}.hp-input-label{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;font-weight:500;color:var(--text-secondary)}.hp-input{padding:var(--spacing-sm) var(--spacing-md);background:var(--bg-tertiary);border:2px solid var(--accent-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-size:1rem;transition:var(--transition-normal)}.hp-input:focus{outline:none;border-color:var(--accent-secondary);box-shadow:0 0 0 2px #ff634733}.attack-counter{@extend .panel;text-align:center}.attack-counter-content{display:flex;align-items:center;justify-content:center;gap:var(--spacing-md);margin-bottom:var(--spacing-sm)}.attack-counter-icon{color:var(--accent-primary)}.attack-counter-number{font-size:2.5rem;font-weight:700;color:var(--accent-primary);text-shadow:0 2px 4px rgba(0,0,0,.6)}.attack-counter-label{font-size:1.1rem;color:var(--text-secondary);font-weight:500;text-transform:uppercase;letter-spacing:.05em}.attack-counter-details{display:flex;justify-content:center;flex-wrap:wrap;gap:var(--spacing-xs)}.detail-tag{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:.8rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em}.detail-tag--frenzy{background:#e74c3c33;color:var(--accent-red);border:1px solid var(--accent-red)}.detail-tag--surge{background:#3498db33;color:var(--accent-blue);border:1px solid var(--accent-blue)}.detail-tag--reload{background:#f39c1233;color:var(--accent-orange);border:1px solid var(--accent-orange)}@media (min-width: 1440px){.app{width:100vw;max-width:none;padding:var(--spacing-xl)}.title-main{font-size:3rem}.main-content{grid-template-columns:1fr 350px;gap:var(--spacing-xl)}}@media (min-width: 1024px) and (max-width: 1439px){.modifier-grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}}@media (min-width: 768px) and (max-width: 1023px){.main-content{grid-template-columns:1fr;grid-template-areas:"controls action" "results results";gap:var(--spacing-lg)}.controls-section{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-md)}.action-section{display:flex;align-items:center;justify-content:center}.modifier-grid{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}.title-main{font-size:2.2rem}}@media (min-width: 600px) and (max-width: 767px){.main-content{grid-template-columns:1fr;grid-template-areas:"controls" "action" "results"}.controls-section{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-md)}.title-main{font-size:2rem}.modifier-grid{grid-template-columns:1fr 1fr}.roll-section{min-width:auto;width:100%;max-width:400px;margin:0 auto}}@media (min-width: 480px) and (max-width: 599px){.header-content{flex-direction:column;gap:var(--spacing-sm)}.title-main{font-size:1.8rem}.app{padding:var(--spacing-sm)}.controls-section{display:flex;flex-direction:column;gap:var(--spacing-md)}.modifier-grid{grid-template-columns:1fr;gap:var(--spacing-sm)}.toggle-group{justify-content:center;gap:var(--spacing-sm)}.toggle-button{flex:1;min-width:0;font-size:.8rem;padding:var(--spacing-xs) var(--spacing-sm)}.attack-counter-number{font-size:2rem}}@media (max-width: 479px){.app{padding:var(--spacing-xs);gap:var(--spacing-xs)}.header{margin-bottom:var(--spacing-sm)}.header-content{flex-direction:column;gap:var(--spacing-xs)}.title-main{font-size:1.5rem;letter-spacing:.05em}.title-subtitle{font-size:.9rem}.main-content,.controls-section{gap:var(--spacing-sm)}.modifier-grid{grid-template-columns:1fr;gap:var(--spacing-sm)}.modifier-group{gap:var(--spacing-xs)}.modifier-input,.modifier-select{font-size:.9rem;padding:var(--spacing-xs) var(--spacing-sm)}.toggle-section{margin-bottom:var(--spacing-sm)}.toggle-section-title{font-size:.9rem;margin-bottom:var(--spacing-xs)}.toggle-group{gap:var(--spacing-xs);justify-content:stretch}.toggle-button{flex:1;font-size:.75rem;padding:var(--spacing-xs);min-height:36px}.gun-stack-buttons{display:grid;grid-template-columns:1fr 1fr 1fr;gap:var(--spacing-xs)}.gun-stack-button{font-size:.9rem;padding:var(--spacing-sm)}.hp-input{font-size:.9rem;padding:var(--spacing-xs) var(--spacing-sm)}.attack-counter-content{gap:var(--spacing-sm)}.attack-counter-number{font-size:1.8rem}.attack-counter-label{font-size:.9rem}.detail-tag{font-size:.7rem;padding:calc(var(--spacing-xs) / 2) var(--spacing-xs)}.roll-section{padding:var(--spacing-sm);gap:var(--spacing-sm);min-width:auto}.roll-button{font-size:1rem;padding:var(--spacing-sm) var(--spacing-md);min-width:120px}.roll-info{font-size:.8rem;text-align:center}.panel{padding:var(--spacing-xs)}}@media (max-width: 319px){.app{padding:calc(var(--spacing-xs) / 2);gap:calc(var(--spacing-xs) / 2)}.title-main{font-size:1.2rem}.modifier-input,.modifier-select,.hp-input{font-size:.8rem;padding:calc(var(--spacing-xs) / 2) var(--spacing-xs)}.toggle-button{font-size:.7rem;padding:calc(var(--spacing-xs) / 2);min-height:28px}.attack-counter-number{font-size:1.5rem}.roll-button{font-size:.9rem;padding:var(--spacing-xs) var(--spacing-sm);min-width:100px}.panel{padding:calc(var(--spacing-xs) / 2)}.main-content,.controls-section{gap:var(--spacing-xs)}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.title-main,.total-damage-large,.summary-value{text-shadow:0 1px 2px rgba(0,0,0,.6)}}@media (max-height: 500px) and (orientation: landscape){.header{margin-bottom:var(--spacing-sm)}.title-main{font-size:1.5rem}.main-content{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:var(--spacing-lg);width:100vw;max-width:100vw;padding:var(--spacing-lg)}.controls-section,.action-section,.results-section{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:500px;margin:0 auto}.roll-section{padding:var(--spacing-lg);min-width:200px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0 auto}.roll-button{padding:var(--spacing-lg) var(--spacing-xl);width:100%;max-width:300px;margin:0 auto;display:block}}@media print{.app{background:#fff;color:#000}.toggle-button,.roll-button{border:1px solid black}.results-section{page-break-inside:avoid}}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}@media (prefers-color-scheme: dark){:root{--bg-primary: #1a1a1a;--bg-secondary: #2a2a2a;--bg-tertiary: #3a3a3a}}@media (prefers-contrast: high){:root{--shadow-sm: none;--shadow-md: none;--shadow-lg: none}.toggle-button,.modifier-input,.attack-card{border-width:2px}}
